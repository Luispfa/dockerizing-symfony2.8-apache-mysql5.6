<VirtualHost *:80>
    ServerName admin-local.juntadeaccionistas.es
    ServerAlias admin-local.juntadeaccionistas.es

    DocumentRoot /var/www/html/sf28/web
    
    UseCanonicalName on
    RewriteEngine on

    RewriteCond %{HTTPS} !=on
    RewriteRule (.*) https://%{HTTP_HOST}$1 [R,L]

    <Directory /var/www/html/sf28/web>
#        AllowOverride None
#        Order Allow,Deny
#        Allow from All
        Require all granted

        FallbackResource /app_dev.php
    </Directory>

    # uncomment the following lines if you install assets as symlinks
    # or run into problems when compiling LESS/Sass/CoffeeScript assets
    # <Directory /var/www/project>
    #     Options FollowSymlinks
    # </Directory>

    # optionally disable the fallback resource for the asset directories
    # which will allow Apache to return a 404 error when files are
    # not found instead of passing the request to Symfony
    <Directory /var/www/html/sf28/web/bundles>
        FallbackResource disabled
    </Directory>
    ErrorLog /var/log/apache2/sf28_error.log
    CustomLog /var/log/apache2/sf28_access.log combined
</VirtualHost>

<VirtualHost *:443>
    ServerName admin-local.juntadeaccionistas.es
    ServerAlias admin-local.juntadeaccionistas.es

    DocumentRoot /var/www/html/sf28/web
    
    UseCanonicalName on
    RewriteEngine on

    RewriteCond %{HTTPS} !=on
    RewriteRule (.*) https://%{HTTP_HOST}$1 [R,L]

      SSLEngine on
        SSLCertificateFile /etc/apache2/ssl/wildcard.juntadeaccionistas.es.crt
        SSLCertificateChainFile /etc/apache2/ssl/ca.bundle.openprovider.esentialssl.wildcard
        SSLCertificateKeyFile /etc/apache2/ssl/wildcard.juntadeaccionistas.es.key

    <Directory /var/www/html/sf28/web>
#        AllowOverride None
#        Order Allow,Deny
#        Allow from All
        Require all granted

        FallbackResource /app_dev.php
    </Directory>

    # uncomment the following lines if you install assets as symlinks
    # or run into problems when compiling LESS/Sass/CoffeeScript assets
    # <Directory /var/www/project>
    #     Options FollowSymlinks
    # </Directory>

    # optionally disable the fallback resource for the asset directories
    # which will allow Apache to return a 404 error when files are
    # not found instead of passing the request to Symfony
    <Directory /var/www/html/sf28/web/bundles>
        FallbackResource disabled
    </Directory>
    ErrorLog /var/log/apache2/sf28_error.log
    CustomLog /var/log/apache2/sf28_access.log combined
</VirtualHost>

<VirtualHost *:443>
    ServerName admin-local.juntadeaccionistas.es
    ServerAlias admin-local.juntadeaccionistas.es

    DocumentRoot /var/www/html/sf28/web
    
    UseCanonicalName on
    RewriteEngine on

    RewriteCond %{HTTPS} !=on
    RewriteRule (.*) https://%{HTTP_HOST}$1 [R,L]

      SSLEngine on
        SSLCertificateFile /etc/apache2/ssl/wildcard.juntadeaccionistas.es.crt
        SSLCertificateChainFile /etc/apache2/ssl/ca.bundle.openprovider.esentialssl.wildcard
        SSLCertificateKeyFile /etc/apache2/ssl/wildcard.juntadeaccionistas.es.key

    <Directory /var/www/html/sf28/web>
#        AllowOverride None
#        Order Allow,Deny
#        Allow from All
        Require all granted

        FallbackResource /app_dev.php
    </Directory>

    # uncomment the following lines if you install assets as symlinks
    # or run into problems when compiling LESS/Sass/CoffeeScript assets
    # <Directory /var/www/project>
    #     Options FollowSymlinks
    # </Directory>

    # optionally disable the fallback resource for the asset directories
    # which will allow Apache to return a 404 error when files are
    # not found instead of passing the request to Symfony
    <Directory /var/www/html/sf28/web/bundles>
        FallbackResource disabled
    </Directory>
    ErrorLog /var/log/apache2/sf28_error.log
    CustomLog /var/log/apache2/sf28_access.log combined
</VirtualHost>
